<%- include('partials/header', { title }) %>

<div class="container py-4">
  <h2 class="mb-3">Registrar compra</h2>

  <% if (errorUI) { %>
    <div class="alert alert-danger"><%= errorUI %></div>
  <% } %>

  <form method="POST" action="/compras/nueva">
    <div class="row g-3">

      <div class="col-md-4">
        <label class="form-label">Proveedor</label>
        <input name="proveedor" class="form-control" required value="<%= form?.proveedor || '' %>">
      </div>

      <div class="col-md-2">
        <label class="form-label">Factura #</label>
        <input name="factura_numero" class="form-control" required value="<%= form?.factura_numero || '' %>">
      </div>

      <div class="col-md-3">
        <label class="form-label">Fecha</label>
        <input type="date" name="fecha" class="form-control" required value="<%= form?.fecha || '' %>">
      </div>

      <div class="col-md-3">
        <label class="form-label">CEDIS</label>
        <input name="cedis" class="form-control" required value="<%= form?.cedis || '' %>">
      </div>

      <hr class="my-2">

      <div class="col-md-3">
        <label class="form-label">Placa</label>
        <input name="placa" class="form-control" required value="<%= form?.placa || '' %>">
      </div>

      <div class="col-md-5">
        <label class="form-label">Producto</label>
        <input name="producto" class="form-control" required value="<%= form?.producto || '' %>">
      </div>

      <div class="col-md-2">
        <label class="form-label">Cantidad</label>
        <input type="number" step="0.01" name="cantidad" class="form-control" required value="<%= form?.cantidad || '' %>">
      </div>

      <div class="col-md-2">
        <label class="form-label">Total ₡</label>
        <input type="number" step="0.01" name="total" class="form-control" required value="<%= form?.total || '' %>">
        <div class="form-text">El sistema calcula el precio unitario.</div>
      </div>

      <div class="col-md-4">
        <label class="form-label">Solicitó</label>
        <input name="solicito" class="form-control" value="<%= form?.solicito || '' %>">
      </div>

      <div class="col-md-8">
        <label class="form-label">Observación</label>
        <input name="observacion" class="form-control" value="<%= form?.observacion || '' %>">
      </div>

    </div>

    <div class="mt-4">
      <button class="btn btn-primary">Guardar</button>
      <a href="/compras" class="btn btn-secondary">Volver</a>
    </div>
  </form>
</div>

<%- include('partials/footer') %>
