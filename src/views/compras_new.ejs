<%- include('partials/header') %>

<h1 class="h3 mb-3">Registrar nueva compra</h1>

<% if (error) { %>
  <div class="alert alert-danger"><%= error %></div>
<% } %>

<form method="post" action="/compras" class="row g-3">
  <div class="col-md-3">
    <label class="form-label">Fecha *</label>
    <input type="date" name="fecha" class="form-control" value="<%= form.fecha || '' %>" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">CEDIS *</label>
    <input type="text" name="cedis" class="form-control" value="<%= form.cedis || '' %>" placeholder="Ej: Nicoya" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">Proveedor *</label>
    <input type="text" name="proveedor" class="form-control" value="<%= form.proveedor || '' %>" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">Placa *</label>
    <input type="text" name="placa" class="form-control" value="<%= form.placa || '' %>" placeholder="Ej: 173369" required>
  </div>

  <div class="col-md-4">
    <label class="form-label">Producto *</label>
    <input type="text" name="producto" class="form-control" value="<%= form.producto || '' %>" placeholder="Ej: Válvula de freno" required>
  </div>
  <div class="col-md-2">
    <label class="form-label">Cantidad *</label>
    <input type="number" step="0.01" min="0" name="cantidad" class="form-control" value="<%= form.cantidad || '' %>" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">Precio unitario (₡) *</label>
    <input type="number" step="0.01" min="0" name="precio_unitario" class="form-control" value="<%= form.precio_unitario || '' %>" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">Solicitó *</label>
    <input type="text" name="solicito" class="form-control" value="<%= form.solicito || '' %>" placeholder="Ej: Victoria" required>
  </div>

  <div class="col-12">
    <label class="form-label">Observación</label>
    <textarea name="observacion" class="form-control" rows="2"><%= form.observacion || '' %></textarea>
  </div>

  <div class="col-12 d-flex justify-content-between mt-3">
    <a href="/compras" class="btn btn-outline-secondary">Volver al listado</a>
    <button type="submit" class="btn btn-success">Guardar compra</button>
  </div>
</form>

<%- include('partials/footer') %>
